vfm_events_hidden = {
	events = {
		character_roles_hidden.1
		character_roles_hidden.2
		character_roles_hidden.3
		character_roles_hidden.4
		character_roles_hidden.5
		character_roles_hidden.6
	}
}

vfm_released_independent_recognized = {
	effect = {
		if = {
			limit = {
				OR = {
					is_country_type = recognized
					is_country_type = colonial
				}
				country_rank >= rank_value:great_power
				scope:target = {
					is_country_type = unrecognized
				}
			}
			scope:target = {
				set_country_type = recognized
			}
		}
	}
}

vfm_released_own_subject_recognized = {
	effect = {
		if = {
			limit = {
				OR = {
					is_country_type = recognized
					is_country_type = colonial
				}
				country_rank >= rank_value:great_power
				scope:target = {
					is_country_type = unrecognized
				}
			}
			scope:target = {
				set_country_type = recognized
			}
		}
	}
}

vfm_released_overlord_subject_recognized = {
	effect = {
		if = {
			limit = {
				OR = {
					is_country_type = recognized
					is_country_type = colonial
				}
				country_rank >= rank_value:great_power
				scope:target = {
					is_country_type = unrecognized
				}
			}
			scope:target = {
				set_country_type = recognized
			}
		}
	}
}

vfm_frontier_colonialism_colony_created = {
	effect = {
		owner = {
			save_scope_as = colony_founder
		}
		if = {
			limit = {
				owner = { has_law = law_type:law_frontier_colonialism }
				NOT = {
					any_neighbouring_state = {
						OR = {
							is_incorporated = yes
							any_neighbouring_state = {
								is_incorporated = yes
								owner = scope:colony_founder
							}
						}
						has_claim_by = scope:colony_founder
						owner = scope:colony_founder
					}
					#has_modifier = frontier_colonialism_modifier
				}
			}
			add_modifier = frontier_colonialism_modifier
		}
	}
}

vfm_barracks_colony_created = {
	effect = {
		#temporary solution giving barracks to colonies to prevent being overrun by uprisings instantly
		if = {
			limit = {
				owner = {
					country_is_in_africa = no
					is_ai = yes
				}
				is_under_colonization = yes
				is_incorporated = no
				OR = {
					state_in_africa = yes
				}
				NOT = {
					has_building = building_barracks
				}
			}
			create_building = {
				building = building_barracks
				level = 1
			}
		}
	}
}