on_weekly_pulse = {
	effect = {
		every_scope_building = {
			limit = {
                is_building_type = building_railway
            }
			if = {
                limit = {
                    root = { is_player = no }
                    is_subsidized = no
                }
                set_subsidized = yes
            }
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_serfdom }
				ig:ig_landowners = {
					has_ideology = ideology:ideology_stratocratic
				}
			}
			ig:ig_landowners = {
				remove_ideology = ideology_stratocratic
				add_ideology = ideology_modern_stratocratic
			}
		}
		if = {
			limit = {
				NOR = {
					has_law = law_type:law_chiefdom
					has_law = law_type:law_monarchy
					has_law = law_type:law_theocracy
				}
				ig:ig_landowners = {
					has_ideology = ideology:ideology_paternalistic
				}
			}
			ig:ig_landowners = {
				remove_ideology = ideology_paternalistic
				add_ideology = ideology_republican_paternalistic
			}
		}
		if = {
			limit = {
				NOR = {
					has_law = law_type:law_chiefdom
					has_law = law_type:law_monarchy
					has_law = law_type:law_theocracy
				}
				ig:ig_intelligentsia = {
					has_ideology = ideology:ideology_constitutionalist
				}
			}
			ig:ig_intelligentsia = { 
				remove_ideology = ideology_constitutionalist
				add_ideology = ideology_republican
			}
		}
		if = {
			limit = {
				NOR = {
					has_law = law_type:law_chiefdom
					has_law = law_type:law_monarchy
					has_law = law_type:law_theocracy
				}
				ig:ig_petty_bourgeoisie = {
					has_ideology = ideology:ideology_constitutionalist
				}
			}
			ig:ig_petty_bourgeoisie = { 
				remove_ideology = ideology_constitutionalist
				add_ideology = ideology_republican
			}
		}
	}
}

tsr_events_yearly = {
	events = {
		arabia_flavor.1
		arabia_flavor.2
		arabia_flavor.3
		arabia_flavor.4
		opium_events.1
		persian_flavor.13
	}
}

tsr_events_monthly = {
	events = {
		krl_independence.2
		krl_independence.5
		krl_independence.6
		krl_independence.7
		aragon_sicily.1
		hre.4
		german_events.1
		akkovin_crisis.9
		akkovin_crisis.10
		akkovin_crisis.16
		treaty_of_baglar_events.2
		treaty_of_baglar_events.3
		arabia_flavor.7
		arabia_flavor.8
		arabia_flavor.9
		arabia_flavor.10
		arab_wars.4
		raj.4
		raj.5
		persian_flavor.7
		indian_flavor.1
		opium_wars.12
		tsr_test.2
		burmese_war.1
	}
	effect = {
		if = {
			limit = {
				any_scope_character = {
					has_variable = is_mohammad_safavid
					is_ruler = yes
					NOT = { has_variable = mortalize_sadiq }
				}
			}
			random_scope_character = {	
				limit = {
					has_variable = is_mohammad_safavid
				}
				set_character_immortal = no
				set_variable = mortalize_sadiq
				owner = { set_strategy = ai_strategy_progressive_agenda }
			}
		}
	}
	# Al-Afghani
	random_events = {
		20 = 0
		30 = al_afghani_events.1
		30 = al_afghani_events.2
		2 = al_afghani_events.3
	}
}

tsr_diplomatic_play_started = {
	effect = {
		if = {
			limit = {
				is_diplomatic_play_type = dp_independence
			}
			random_country = { 
				limit = {
					has_journal_entry = je_arab_nationalism_subject
					has_variable = independence_plot_leader
					is_subject_of = c:AKN
				}
				trigger_event = { id = arab_wars.8 days = 0 } 
			}
		}
		if = {
			limit = {
				is_diplomatic_play_type = dp_independence
			}
			random_country = { 
				limit = {
					has_journal_entry = je_arab_nationalism_subject
					c:EGY ?= ROOT
					is_subject_of = c:TUR
				}
				trigger_event = { id = arab_wars.17 days = 0 } 
			}
		}
		if = {
			limit = {
				is_diplomatic_play_type = dp_opium_wars
				scope:initiator = {
					NOT = { has_variable = FOW_decision_taken }
				}
			}
			scope:initiator = {
				trigger_event = { id = opium_wars.9 days = 0 }
			}
		}
	}
}