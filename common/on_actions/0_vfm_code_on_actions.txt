# Root = Country
on_monthly_pulse_country = {
	events = {
		character_roles_hidden.1
		character_roles_hidden.2
		character_roles_hidden.3
		character_roles_hidden.4
		character_roles_hidden.5
		character_roles_hidden.6
		communism.8 # Red Army
		peoples_springtime.1
		opium_wars.1
		native_resettlement.1
	}
	# Election Events
	random_events = {
		50 = 0
		1 = election_liberal_events.1
		1 = election_liberal_events.2
		1 = election_liberal_events.3
		1 = election_liberal_events.4
		1 = election_conservative_events.1
		1 = election_conservative_events.2
		1 = election_conservative_events.3
		1 = election_conservative_events.4
		1 = election_moderate_events.1
		1 = election_moderate_events.2
		1 = election_contextual_events.1
		1 = election_contextual_events.2
		1 = election_contextual_events.3
		1 = election_contextual_events.4
		1 = election_contextual_events.5
		1 = election_contextual_events.6
		1 = election_contextual_events.7
		1 = election_contextual_events.8
		1 = election_neutral.1
		1 = election_neutral.2
		1 = election_neutral.3
		1 = election_neutral.4
		1 = election_neutral.5
		1 = election_neutral.6
		1 = election_neutral.7
		1 = election_neutral.8
		1 = election_other_parties_events.1
		1 = election_other_parties_events.2
		1 = election_other_parties_events.3
		1 = election_other_parties_events.4
		1 = election_other_parties_events.5
		1 = ig_leaders.3
	}
}

on_weekly_pulse = {
	events = {
	}
}

# Root = Colony state
on_colony_created = {
	effect = {
		owner = {
			if = {
				limit = {
					has_journal_entry = je_tutorial_colonize_state
				}
				root = {
					set_variable = {
						name = tut_colony_target
					}
				}
			}
		}
	}
}

# Root = country
on_native_uprising = {
	effect = {
		post_notification = native_uprising_notification
		
		every_country = {
			limit = {
				is_country_type = decentralized
				is_diplomatic_play_enemy_of = root
				NOT = { has_war_with = root }
			}
			save_scope_as = native_nation
		}
		every_diplomatic_play = {
			limit = {
				any_scope_play_involved = {
					this = scope:native_nation
				}
			}
			end_play = yes
		}
		create_diplomatic_play = {
			target_country = scope:native_nation
			war = yes
			type = dp_native_uprising
		}
	}
}

# Root = Country
on_capitulation = {
	effect = {
		if = {
			limit = {
				is_country_type = decentralized
			}
			every_country = {
				limit = {
					has_truce_with = root
				}
				set_tension = { 
					country = root 
					value = 0 
				}
				end_truce = {
					country = root
				}
			}
		}
	}
}

# Root = Character
on_character_creation = {
}

# Root = Character
on_character_death = {
	effect = {

		##Vice President, if exists, replaces dead President in Presidential Republics
		#if = {
		#	limit = {
		#		is_ruler = yes
		#		owner = {
		#			has_law = law_type:law_presidential_republic
		#			has_variable = vice_president
		#		}
		#	}
		#	owner = {
		#		remove_variable = vice_president
		#		every_scope_character = {
		#			limit = { has_variable = vice_president_trigger }
		#			remove_variable = vice_president_trigger
		#			save_scope_as = former_vice_president
		#		}
		#		create_character = {
		#			first_name = scope:former_vice_president
		#			last_name = scope:former_vice_president
		#			ruler = yes
		#			culture = scope:former_vice_president
		#			religion = scope:former_vice_president
		#			interest_group = scope:former_vice_president
		#			ideology = scope:former_vice_president
		#			birth_date = scope:former_vice_president
		#			traits = scope:former_vice_president
		#			on_created = {
		#				set_variable = vice_president_trigger
		#				owner = {
		#					set_variable = {
		#						name = vice_president
		#						value = PREV
		#					}
		#				}
		#			}
		#		}
		#		create_character = {
		#			on_created = {
		#				set_variable = vice_president_trigger
		#				owner = {
		#					set_variable = {
		#						name = vice_president
		#						value = PREV
		#					}
		#				}
		#			}
		#		}
		#	}
		#}
	}
}

#BROKEN, USE BELOW ELECTION ON ACTIONS
# Root = Country
on_election_campaign_start = {
	effect = {
		debug_log = "Election Campaign Started"
	}
}

#BROKEN, USE BELOW ELECTION ON ACTIONS
# Root = Country
on_election_campaign_end = {
	effect = {
		debug_log = "Election Campaign Ended"
	}
}

on_election_started = {
	trigger = { in_election_campaign = yes }
	effect = { 
		set_variable = election_onging
	}
}

on_election_ended = {
	trigger = {
		in_election_campaign = no
		has_variable = election_onging
	}
	effect = {
		remove_variable = election_onging
		
		#Septennial Act 1715, 7 year maximum unless Parliament dissolved or Monarch dies
		if = {
			limit = {
				exists = c:GBR
				this = c:GBR
				c:GBR = {
					has_law = law_type:law_monarchy
					country_has_voting_franchise = yes
				}
			}
			call_election = {
				months = 84
			}
		}
	}
}

# Root owner Country of the Law
# executed when the law is activated for any reason. It's usually because it
# has been enacted, but script can activate laws directly without going through
# the enactment process. Normally, it's immediately preceded by
# on_law_enactment_ended, but if a law is directly set by script, thus
# bypassing the enactment process, this will execute while
# on_law_enactment_ended will not
#
# NOTE: unlike the other on_law_<something> on-actions, at the point in time
# when this is triggered the law that was enacted is no longer considered being
# enacted. Therefore using the `currently_enacting_law` link will return the
# null law
on_law_activated = {
	effect = {
		#if = {
		#	limit = {
		#		AND = {
		#			has_law = law_type:law_monarchy
		#			country_has_voting_franchise = yes
		#		}
		#	}
		#	create_character = {
		#		on_created = {
		#			set_variable = prime_minister_trigger
		#			owner = {
		#				set_variable = {
		#					name = prime_minister
		#					value = PREV
		#				}
		#			}
		#		}
		#	}
		#}
	}
}