headgear = {
	usage = game
	selection_behavior = weighted_random
	fallback = no_headgear

    no_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = no_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
        }
    }

### AGITATORS ###

    european_agitator_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_headgear_agitators
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
					european_clothes_trigger = yes
					tsr_persia_leader_trigger = yes
					tsr_ottoman_leader_trigger = yes
				}
                slavic_clothes_trigger = no
                south_american_clothes_character_trigger = no
                agitator_character_trigger = yes
            }
        }
    }

    south_american_agitator_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = south_american_headgear_agitators
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                south_american_clothes_character_trigger = yes
                OR = {
                    agitator_character_trigger = yes
                    scope:character ?= {
                        has_trait = bandit
                    }
                }
            }
        }
    }

    arabic_agitator_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_headgear_agitators
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                scope:character ?= {
                    culture = {
                        has_discrimination_trait = arabic_heritage
                    }
                }
                agitator_character_trigger = yes
            }
        }
    }

    korean_agitator_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = korean_headgear_agitators
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                scope:character ?= {
                    culture = cu:korean
                }
                agitator_character_trigger = yes
            }
        }
    }

    japanese_agitator_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = japanese_headgear_agitators
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                japanese_clothes_trigger = yes
                agitator_character_trigger = yes
            }
        }
    }

### END OF AGITATORS. ###

### HISTORICAL CHARACTER CLOTHING ###

    historical_lenin_headgear = {
        dna_modifiers = {
            accessory = {
               mode = add
               gene = headgear
               template = slavic_headgear_agitator_lenin
               range = { 0 1.0 } 
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_trigger = yes
                slavic_clothes_trigger = no
                south_american_clothes_character_trigger = no
                agitator_character_trigger = yes
            }
        }
    }

    historical_emmeline_pankhurst_headgear = {
        dna_modifiers = {

           accessory = {
               mode = add
               gene = headgear
               template = female_headgear_agitator_pankhurst
               range = { 0 0.1 }
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_trigger = yes
                slavic_clothes_trigger = no
                south_american_clothes_character_trigger = no
                agitator_character_trigger = yes
            }
        }
    }

    historical_zapata_headgear = {
        dna_modifiers = {
            accessory = {
               mode = add
               gene = headgear
               template = south_american_headgear_agitators
               range = { 0 0.1} 
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                south_american_clothes_character_trigger = yes
                OR = {
                    agitator_character_trigger = yes
                    scope:character ?= {
                        has_trait = bandit
                    }
                }
            }
        }
    }

### END OF HISTORICAL CLOTHING ###

brazilian_commander_monarch_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = brazilian_military_headgear
                range = { 1 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
               add = 25002
                soalleiran_clothes_trigger = yes
                military_clothes_trigger = yes
                monarchy_clothes_trigger = yes
            }
        }
    }

    brazilian_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = brazilian_military_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 101
                OR = {
                    AND = {
                        soalleiran_clothes_trigger = yes
                        OR = {
                            scope:character = {
                            has_role = general
                            }
                            AND = {
                            politician_clothes_trigger = yes
                            armed_forces_clothes_trigger = yes
                            }
                        }
                    }
                    AND = {
                        soalleiran_clothes_pop_trigger = yes
                        OR = {
                            officers_clothes_pop_trigger = yes
                            soldier_clothes_pop_trigger = yes
                        }
                    }
                }
            }
        }
    }

    hispanic_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = hispanic_military_headgear
                range = { 0 1 } # limiting the set to single-breasted coats, so aiguillettes work
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 10001
                OR = {
                    hispanic_clothes_trigger = yes
                    hispanic_clothes_pop_trigger = yes
                }
                ruler_clothes_trigger = no
                OR = {
                    AND = {
                        exists = scope:character
                        scope:character = {
                        has_role = general
                        }
                    }
                    officers_clothes_pop_trigger = yes
                    soldier_clothes_pop_trigger = yes
                    monarchy_clothes_trigger = yes
                    AND = {
                        armed_forces_clothes_trigger = yes
                        politician_clothes_trigger = yes
                    }
                }
            }
        }
    }

    chinese_imperial_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = chinese_imperial_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
               add = 100
               western_uniforms_trigger = no
               chinese_imperial_clothes_trigger = yes
            }
        }
    }

    western_chinese_imperial_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = chinese_imperial_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
               add = 100
               western_uniforms_trigger = yes
               military_clothes_trigger = no
               chinese_imperial_clothes_trigger = yes
            }
        }
    }

    japanese_imperial_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = Japanese_imperial_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                western_uniforms_trigger = no
                japanese_imperial_clothes_trigger = yes
            }
        }
    }

    western_japanese_imperial_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = Japanese_imperial_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                western_uniforms_trigger = yes
                military_clothes_trigger = no
                japanese_imperial_clothes_trigger = yes
            }
        }
    }

    european_royal_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_royal_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
               add = 100
               european_clothes_trigger = yes
               monarchy_clothes_trigger = yes
            }
        }
    }

    european_common_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 10
                european_clothes_trigger = yes
                politician_clothes_trigger = yes
                armed_forces_clothes_trigger = no
                military_clothes_trigger = no
                devout_clothes_trigger = no
                ruler_clothes_trigger = no
            }
        }
    }

    indian_military_headgear_no_hijab = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_turban_no_hijab
                range = { 1 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                OR = {
                    AND = {
                        exists = scope:pop
                        scope:pop = {
                            religion = rel:sikh
                            NOT = { is_pop_type = clergymen }
                        }
                    }
                    AND = {
                        exists = scope:character
                        scope:character = {
                            religion = rel:sikh
                            AND = {
                                is_ruler = yes
                                exists = home_country
                                home_country = {
                                    has_law = law_type:law_monarchy
                                }
                            }
                        }
                    }
                    AND = {
						exists = scope:pop
                        scope:pop = {
                            NOT = { religion = { has_discrimination_trait = muslim } }
                        }
                        indian_clothes_pop_trigger = yes
                        OR = {
                            soldier_clothes_pop_trigger = yes
                            officers_clothes_pop_trigger = yes
                        }
                    }
                }
            }
        }
    }
	
	indian_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_turban
                range = { 1 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                AND = {
					exists = scope:pop
                    scope:pop = {
						religion = { has_discrimination_trait = muslim }
                    }
                    indian_clothes_pop_trigger = yes
					OR = {
						soldier_clothes_pop_trigger = yes
						officers_clothes_pop_trigger = yes
					}
                }
            }
        }
    }

    indian_sikh_clergy_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = indian_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                exists = scope:pop
                scope:pop = {
                    religion = rel:sikh
                    is_pop_type = clergymen
                }
            }
        }
    }

    european_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = generic_military_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_trigger = yes
                arabic_clothes_trigger = no
                republic_clothes_trigger = no
                american_clothes_trigger = no
                british_empire_clothes_trigger = no
                french_empire_clothes_trigger = no
                german_clothes_trigger = no
                agitator_character_trigger = no


                OR = {
                    AND = {
                        european_clothes_trigger = yes
                        scope:character = {
                            has_role = general
                            is_ruler = no
                        }
                    }
                    AND = {
                        armed_forces_clothes_trigger = yes
                        politician_clothes_trigger = yes
                    }
                    AND = {
                        european_clothes_pop_trigger = yes
                        arabic_clothes_pop_trigger = no
                        hispanic_clothes_pop_trigger = no
                        american_clothes_pop_trigger = no
                        german_clothes_pop_trigger = no
                        gaucho_clothes_pop_trigger = no
                        french_empire_clothes_pop_trigger = no
                        british_empire_clothes_pop_trigger = no
                        officers_clothes_pop_trigger = yes
                    }
                }  
            }
        }
    }

    european_admiral_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_admiral_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_trigger = yes
                agitator_character_trigger = no
                OR = {
                    scope:character = {
                       has_role = admiral
                    }
                    scope:character = {
                        has_role = general
                        is_ruler = yes
						exists = home_country
                        home_country = {
                            NOT = { has_law = law_type:law_monarchy}
                        }
                    }
                }
            }
        }
    }

    american_military_headgear = {
        # when updating triggers on this, please update american_military_hairstyles in game\gfx\portraits\portrait_modifiers\01_headgear.txt as well so that triggers continue to match up
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = american_military_headgear
                range = { 0 0.8 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                american_clothes_trigger = yes
                agitator_character_trigger = no
                OR = {
                    scope:character = {
                        has_role = general
                    }
                    AND = {
                        politician_clothes_trigger = yes
                        armed_forces_clothes_trigger = yes
                    }
                }
            }
        }
    }

    american_military_late_headgear = {
        # when updating triggers on this, please update american_military_hairstyles in game\gfx\portraits\portrait_modifiers\01_headgear.txt as well so that triggers continue to match up
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = american_military_headgear
                range = { 0.9 1.0 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 150
                c:USC ?= {
                    has_technology_researched = bolt_action_rifles
                }
                OR = {
                    AND = {
                        american_clothes_pop_trigger = yes
                        OR = {
                            officers_clothes_pop_trigger = yes
                            soldier_clothes_pop_trigger = yes
                        }
                    }
                    AND = {
                        american_clothes_trigger = yes
                        agitator_character_trigger = no
                        scope:character = {
                            has_role = general
                        }
                    }
                }
            }
        }
    }
    
    british_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = british_military_headgear
                range = { 0 0.5 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                british_empire_clothes_trigger = yes
                agitator_character_trigger = no
                OR = {
                    scope:character = {
                        has_role = general
                    }
                    AND = {
                        politician_clothes_trigger = yes
                        armed_forces_clothes_trigger = yes
                    }
                }
            }
        }
    }

    british_military_pupet_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_military_headgear
                range = { 0.7 0.7 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                british_empire_clothes_p_trigger = yes
                officers_clothes_pop_trigger  = yes
            }
        }
    }

    french_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = french_military_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                    AND = {
                        french_empire_clothes_trigger = yes
                        scope:character = {
                            has_role = general
                        }
                    }
                    AND = {
                        french_empire_clothes_trigger = yes
                        politician_clothes_trigger = yes
                        armed_forces_clothes_trigger = yes
                    }
                    AND = {
                        french_empire_clothes_pop_trigger = yes
                        officers_clothes_pop_trigger = yes
                    }
                }
                agitator_character_trigger = no
            }
        }
    }

    garibaldi_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = french_military_headgear
                range = { 0.4 0.6 } # Only selecting the red kepi with gold embroidery
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 200
                scope:pop ?= {
                    exists = home_country
                    home_country = {
                        AND = {
                        	exists = c:ITA
                            c:ITA = this
                       	}
                    }
                }
                OR = {
                    officers_clothes_pop_trigger = yes
                    soldier_clothes_pop_trigger = yes
                }
            }
        }
    }

    persian_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = austrian_military_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 10000
                exists = scope:character
                scope:character = {
                    exists = home_country
					home_country = {
						OR = {
							AND = {
								OR = {
									country_has_primary_culture = cu:persian
									country_has_primary_culture = cu:jonubi
								}
							}
							AND = {
								is_subject_of = c:PER
								has_variable = adopt_western_uniforms
							}
						}
                    }
                }
                OR = {
                    scope:character = {
                        has_role = general
						NOT = { is_ruler = yes }
						NOT = { is_heir = yes }
                    }
                    AND = {
                        politician_clothes_trigger = yes
                        armed_forces_clothes_trigger = yes
                    }
                }
            }
        }
    }

    persian_officers_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = austrian_military_headgear
                range = { 0.5 0.5 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 10000
                tsr_persia_military_trigger = yes
                officers_clothes_pop_trigger = yes  
            }
        }
    }

    german_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = german_military_headgear
                range = { 0.6 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                german_clothes_trigger = yes
                agitator_character_trigger = no
                OR = {
                    scope:character = {
                        has_role = general
                    }
                    AND = {
                        politician_clothes_trigger = yes
                        armed_forces_clothes_trigger = yes
                    }
                }
            }
        }
    }

    german_officers_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = german_military_headgear
                range = { 0.6 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                german_clothes_pop_trigger = yes
                officers_clothes_pop_trigger = yes
            }
        }
    }

    ethiopian_royal_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ethiopian_royal_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                ethiopian_clothes_trigger = yes
                agitator_character_trigger = no
                scope:character = {
                    is_ruler = yes
                }
            }
        }
    }

    indian_royal_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = indian_royal_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1002
                indian_clothes_trigger = yes
                agitator_character_trigger = no
                scope:character = {
                    is_ruler = yes
                }
            }
        }
    }

    indian_high_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = indian_high_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                indian_clothes_pop_trigger = yes
                upper_clothes_pop_trigger = yes
            }
        }
    }

    indian_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = indian_high_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }  
        weight = {
            base = 0
            modifier = {
                add = 100
                hindu_clothes_pop_trigger = yes
                clergy_clothes_pop_trigger = yes
            }
        }
    }
	
	arabic_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                scope:pop ?= {
                    culture = {
                        has_discrimination_trait = arabic_heritage
                    }
					NOT = {
						religion = rel:jewish
					}
					OR = {
                        is_pop_type = farmers
                        is_pop_type = peasants
                    }
                }
            }
			modifier = {
                add = 6000
                scope:pop ?= {
					OR = {
						culture = cu:bedouin
						culture = cu:mashriqi
						culture = cu:khaleeji
					}
					soldier_clothes_pop_trigger = no
					officers_clothes_pop_trigger = no
                }
            }
			modifier = {
                add = 5000
                scope:character ?= {
                    exists = home_country
					home_country = {
						OR = {
							country_has_primary_culture = cu:bedouin
							country_has_primary_culture = cu:mashriqi
							country_has_primary_culture = cu:khaleeji
						}
					}
                    agitator_character_trigger = no
				}
            }
        }
    }

    arabic_turban = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_turban
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                arabic_clothes_trigger = yes
				tsr_persia_leader_trigger = no
				scope:character = {
                    exists = home_country
					home_country = {
						NOT = { has_variable = adopt_western_uniforms }
					}
                    agitator_character_trigger = no
				}
            }
			modifier = {
                add = 10000
				devout_clothes_trigger = yes
                exists = scope:character
                scope:character = {
					OR = {
						religion = rel:sunni
						religion = rel:shiite
						religion = rel:ibadi
						religion = rel:zandism
					}
					is_ruler = no
                }
            }
			modifier = {
                add = 10000
                exists = scope:pop
                scope:pop = {
					OR = {
						religion = rel:sunni
						religion = rel:shiite
						religion = rel:ibadi
						religion = rel:zandism
					}
                    is_pop_type = clergymen
                }
            }
			modifier = {
                add = 1000
                scope:pop ?= {
                    culture = {
                        has_discrimination_trait = arabic_heritage
                    }
					upper_clothes_pop_trigger = yes
                }
            }
			modifier = {
                add = 90000
                scope:character ?= {
                    has_template = egy_abduh_character_template
                }
            }
        }
    }
	ottoman_military_fez = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_fez
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 6000
                tsr_fez_trigger = yes
                    OR = {
                        military_clothes_trigger = yes
                        politician_clothes_trigger = yes
                        monarchy_clothes_trigger = yes
                    }
            }
			modifier = {
                add = 90000
                scope:character ?= {
                    has_template = syr_bustani_character_template
                }
            }
			modifier = {
                add = 90000
                scope:character ?= {
                    has_template = egy_shidyaq_character_template
                }
            }
        }
	}
	
	ottoman_officers_military_fez = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_fez
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 5000
				tsr_fez_pop_trigger = yes
				european_clothes_pop_trigger = no
				OR = {
					soldier_clothes_pop_trigger = yes
					officers_clothes_pop_trigger = yes
					middle_clothes_pop_trigger = yes					
					upper_clothes_pop_trigger = yes					
				}
            }
        }
    }
	
    african_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = african_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                scope:character ?= {
                    culture = {
                        OR = {
                            has_discrimination_trait = west_african_culture_group
                            has_discrimination_trait = east_african_culture_group
                        }
                        NOR = { 
                            has_discrimination_trait = ethiopian 
                            has_discrimination_trait = bantu
                            THIS = cu:maasai
                        }
                    }
                }
            }
        }
    }
	
	berber_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = berber_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 6000
                scope:pop ?= {
					OR = {
						culture = cu:berber
						culture = cu:tuareg
					}
					soldier_clothes_pop_trigger = no
					officers_clothes_pop_trigger = no
                }
            }
			modifier = {
                add = 5000
                scope:character ?= {
                    exists = home_country
					home_country = {
						OR = {
							country_has_primary_culture = cu:berber
							country_has_primary_culture = cu:tuareg
						}
					}
                    agitator_character_trigger = no
				}
            }
        }
    }

#Pops

    arabic_low_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_low_tier
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
				OR = {
					AND = {
						arabic_clothes_pop_trigger = yes
						scope:pop ?= {
							religion = {
								has_discrimination_trait = muslim
							}
						}
					}
					AND = {
						arabic_clothes_trigger = yes
						scope:character ?= {
							religion = {
								has_discrimination_trait = muslim
							}
						}
					}
				}
            }
        }
    }

    arabic_middle_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = arabic_middle_tier
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 200
				arabic_clothes_pop_trigger = yes
				OR = {
					AND = {
						arabic_clothes_pop_trigger = yes
						scope:pop ?= {
							religion = {
								has_discrimination_trait = muslim
							}
							OR = {
								culture = cu:bedouin
								culture = cu:mashriqi
								culture = cu:yemenite
								culture = cu:khaleeji
							}
						}
					}
					AND = {
						arabic_clothes_trigger = yes
						scope:character ?= {
							religion = {
								has_discrimination_trait = muslim
							}
							OR = {
								culture = cu:bedouin
								culture = cu:mashriqi
								culture = cu:yemenite
								culture = cu:khaleeji
							}
						}
					}
				}
            }
        }
    }

    central_asian_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = central_asian
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                central_asian_clothes_pop_trigger = yes
                upper_clothes_pop_trigger = yes             
            }
        }
    }

    mongol_noble_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = mongolian_hats
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                exists = scope:pop
                scope:pop = {
                    is_pop_type = aristocrats
                    culture = {
                        has_discrimination_trait = mongol_language
                    }
                }
            }
        }
    }

    chinese_common_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = chinese_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                chinese_manchu_queue_hairstyle_pops_trigger = yes
                poor_clothes_pop_trigger = yes
            }
        }
    }

    japanese_common_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = Japanese_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                japanese_clothes_pop_trigger = yes
                poor_clothes_pop_trigger = yes   
            }
        }
    }

    european_capitalist_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_tophat
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                OR = {
                    scope:character ?= {
                       has_variable = THE_NEFARIOUS_TOP_HAT
                    }
                    AND = {
                        OR = {
                            european_clothes_pop_trigger = yes
                            AND = {
                                exists = scope:pop
                                scope:pop = { 
                                    OR = {
                                        culture = cu:cherokee 
                                        culture = cu:muskogean
                                    }
                                }
                            }
                        }
                        upper_clothes_pop_trigger = yes
                    }
                }
            }
        }
    }

    european_bowler_hat = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_bowlerhat
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_pop_trigger = yes
                middle_clothes_pop_trigger = yes
               
           }
        }
    }

    european_flat_cap = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_flatcap
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                european_clothes_pop_trigger = yes
                poor_clothes_pop_trigger = yes
                peasants_clothes_pop_trigger = no
            }
        }
    }

    native_american_char_headgear_01 = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = native_american_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 100
                native_american_clothes_trigger = yes
                ruler_clothes_trigger = yes
                scope:character = {
                    is_ruler = yes
                }
            }
        }
    }

    native_american_char_headgear_02 = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = american_military_headgear
                range = { 0 0.8 } # For the randomness to work correctly
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                native_north_american_clothes_trigger = yes
                ruler_clothes_trigger = yes
                scope:character = {
                    is_ruler = yes
                    is_female = no
                }
            }
        }
    }

    native_american_char_headgear_03 = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = native_american_high_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                ruler_clothes_trigger = yes
                scope:character = {
                    is_ruler = yes
                    OR = {
                        culture = cu:comanche
                        culture = cu:paiute
                        culture = cu:dakota
                        culture = cu:cree
                        culture = cu:nez_perce
                        culture = cu:siouan
                    }
                }
            }
        }
    }

    native_american_bandanna = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = native_american_common_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 100
                native_american_clothes_pop_trigger = yes   
            }
        }
    }

    european_peasants_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_strawhat
                range = { 0 1 } # For the randomness to work correctly
           
            } 
        }
        weight = {
            base = 0
            modifier = {
                add = 200
                AND = {
                    peasants_clothes_pop_trigger = yes
                    european_clothes_pop_trigger = yes
                }
            }
        }
    }
    #academic_clothes = {
    #    dna_modifiers = {
    #        accessory = {
    #            mode = add
    #            gene = props
    #            template = academic_cap_01
    #            range = { 0 1 } # For the randomness to work correctly
    #        } 
    #    }
    #    weight = {
    #        base = 0
    #        modifier = {
    #            add = 200
    #            academics_clothes_pop_trigger = yes
    #        }
    #    }
    #}

    papal_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_Catholic_headgear
                range = { 0 1 } # For the randomness to work correctly
            }
        }

        weight = {
            base = 0
            modifier = {
                add = 10000
                exists = scope:character
                exists = c:PAP
                scope:character = {
                    ruler_clothes_trigger = yes  
                    christian_clothes_trigger = yes
                    exists = home_country
                    home_country = c:PAP
                    home_country = {
                        has_law = law_type:law_theocracy
                    }
                    is_female = no
                }
                
           }
        }
    }
    
    generic_western_asian_military_headgear = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = european_military_headgear
                range = { 0.3 0.4 } # For the randomness to work correctly
            }
        }
		weight = {
			base = 0
			modifier = {
				add = 1001
                western_uniforms_trigger = yes
				NOR = {
					tsr_ottoman_leader_trigger = yes
					tsr_persia_leader_trigger = yes
				}
                OR = {
                    military_clothes_trigger = yes
                    officers_clothes_pop_trigger = yes
                }
            }
		}
    }
}
