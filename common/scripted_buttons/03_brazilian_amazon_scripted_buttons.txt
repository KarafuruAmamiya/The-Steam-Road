# Etablish Amazonic Modifier
upgrade_amazon_button_1 = {
	name = "upgrade_amazon_button_1"
	desc = "upgrade_amazon_button_1_desc"

	visible = { always = yes }

	possible = {
		scope:journal_entry = {
			NOT = {
				custom_tooltip = {
					text = amazon_1_cooldown_tt
					has_variable = amazon_1_cooldown_var
				}
			}
		}
		any_scope_state = {
			has_state_trait = state_trait_amazon_rainforest
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 2
			}
			any_scope_building = {
				is_building_type = building_rubber_plantation
				level >= 10
			}
		}
	}

	ai_chance = {
		base = 20
		modifier = {
			trigger = {
				OR = {
					is_at_war = yes
					in_default = yes
				}
			}
			add = -100
		}
	}

	effect = {
		scope:journal_entry = {
			set_variable = { name = amazon_1_cooldown_var years = 1 }
		}
		random_scope_state = {
			limit = {
				has_state_trait = state_trait_amazon_rainforest
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 2
				}
				any_scope_building = {
					is_building_type = building_rubber_plantation
					level >= 10
				}
			}
			show_as_tooltip = {
				state_region = {
					add_state_trait = state_trait_amazon_rainforest_level_1
				}
				add_modifier = {
					name = amazon_development_cooldown_modifier
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					OR = {
						this.state_region = s:STATE_AMAZONAS
						this.state_region = s:STATE_AMAZONIE
					}
					root = {
						OR = {
							c:AMR ?= this
							c:ORC ?= this
						}
					}
				}
				root = { trigger_event = { id = amazonas.4 popup = yes } } # Manaus, the Heart of the Amazon
			}
			else = {
				root = { trigger_event = { id = amazonas.6 popup = yes } } # An Outpost of Progress
			}
		}
	}
}

# Upgrade Amazonic Modifier
upgrade_amazon_button_2 = {
	name = "upgrade_amazon_button_2"
	desc = "upgrade_amazon_button_2_desc"

	visible = { always = yes }

	possible = {
		scope:journal_entry = {
			NOT = {
				custom_tooltip = {
					text = amazon_2_cooldown_tt
					has_variable = amazon_2_cooldown_var
				}
			}
		}
		any_scope_state = {
			has_state_trait = state_trait_amazon_rainforest_level_1
			NOT = { has_modifier = amazon_development_cooldown_modifier }
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 4
			}
			any_scope_building = {
				is_building_type = building_rubber_plantation
				level >= 15
			}
			any_scope_building = {
				is_building_type = building_railway
			}
		}
	}

	ai_chance = {
		base = 20
		modifier = {
			trigger = {
				OR = {
					is_at_war = yes
					in_default = yes
				}
			}
			add = -100
		}
	}

	effect = {
		scope:journal_entry = {
			set_variable = { name = amazon_2_cooldown_var years = 1 }
		}
		random_scope_state = {
			limit = {
				has_state_trait = state_trait_amazon_rainforest_level_1
				NOT = { has_modifier = amazon_development_cooldown_modifier }
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 4
				}
				any_scope_building = {
					is_building_type = building_rubber_plantation
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_railway
				}
			}
			show_as_tooltip = {
				state_region = {
					add_state_trait = state_trait_amazon_rainforest_level_2
				}
				add_modifier = {
					name = amazon_development_cooldown_modifier
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					OR = {
						this.state_region = s:STATE_AMAZONAS
						this.state_region = s:STATE_AMAZONIE
					}
					root = {
						OR = {
							c:AMR ?= this
							c:ORC ?= this
						}
					}
				}
				root = { trigger_event = { id = amazonas.5 popup = yes } } # Manaus, the Paris of the Tropics
			}
			else = {
				root = { trigger_event = { id = amazonas.7 popup = yes } } # Jewels in the Rough
			}
		}
	}
}