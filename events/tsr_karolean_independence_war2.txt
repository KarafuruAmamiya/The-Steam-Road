namespace = krl_freedom

# Start event for Karolia
krl_freedom.1 = {
	type = country_event
	placement = ROOT

	title = krl_freedom.1.t
	desc = krl_freedom.1.d
	flavor = krl_freedom.1.f

	event_image = {
		video = "gfx/event_pictures/unspecific_sick_in_hospital.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/sick_people_in_a_field_hospital"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {
		has_variable = karolean_independence_war
		exists = c:KRL
		this = c:KRL
	}

	option = {
		name = krl_freedom.1.a
		add_modifier = {
			name = karolean_independence_war
			months = normal_modifier_time
		}
	}
}

# Scandinavia Angry
krl_freedom.2 = {
	type = country_event
	placement = ROOT

	title = krl_freedom.2.t
	desc = krl_freedom.2.d
	flavor = krl_freedom.2.f

	event_image = {
		video = "gfx/event_pictures/unspecific_sick_in_hospital.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/sick_people_in_a_field_hospital"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {
		has_variable = karolean_independence_war
		exists = c:SCA
		this = c:SCA
		any_diplomatic_play = {
			initiator_is = c:SCA
			target_is = c:KRL
			war = {
				NOT = {
					is_war_participant = c:USC
				}
			}
		}
	}

	option = {
		name = krl_freedom.2.a
		change_relations = {
			country = c:USC
			value = -50
		}
		remove_diplomatic_pact = {
			country = c:USC
			type = defensive_pact
		}
	}
}

# Lindsköld rallies the people
krl_freedom.3 = {
	type = country_event
	placement = ROOT

	title = krl_freedom.3.t
	desc = krl_freedom.3.d
	flavor = krl_freedom.3.f

	event_image = {
		video = "gfx/event_pictures/unspecific_sick_in_hospital.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/sick_people_in_a_field_hospital"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {
		has_variable = karolean_independence_war
		exists = c:KRL
		this = c:KRL
		NOT = { has_variable = krl_second_wind }
		c:KRL = {
			any_scope_character = {
				has_variable = is_bengt_lindskold
				has_trait = firebrand
			}
		}
		any_diplomatic_play = {
			initiator_is = c:SCA
			target_is = c:KRL
			war = {
				has_war_support = {
					target = c:KRL
					value < 0
				}
			}
		}
	}

	option = {
		name = krl_freedom.2.a
		random_diplomatic_play = {
			limit = { 
				initiator_is = c:SCA
				target_is = c:KRL
			}
			war = {
				add_war_war_support = {
					target = c:KRL
					value = 50
				}
			}
		}
		set_variable = krl_second_wind
	}
}