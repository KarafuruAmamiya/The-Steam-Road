namespace = lorebox

lorebox.1 = {
	type = country_event
	hidden = yes
	trigger = {
		OR = {
			country_is_in_middle_east = yes
			gunpowder_empire_trigger = yes
		}
	}
	immediate = {
		post_notification = lorebox_me
	}
}

lorebox.2 = {
	type = country_event
	hidden = yes
	trigger = {
		country_is_in_europe = yes
	}
	immediate = {
		post_notification = lorebox_eu
	}
}

lorebox.3 = {
	type = country_event
	hidden = yes
	trigger = {
		OR = {
			country_is_in_east_asia = yes
			country_is_in_central_asia = yes
			country_is_in_southeast_asia = yes
		}
	}
	immediate = {
		post_notification = lorebox_as
	}
}

lorebox.4 = {
	type = country_event
	hidden = yes
	trigger = {
		OR = {
			country_is_in_north_america = yes
			country_is_in_central_america = yes
			country_is_in_south_america = yes
		}
	}
	immediate = {
		post_notification = lorebox_nw
	}
}

namespace = tsr_test

tsr_test.1 = {
	type = country_event
	hidden = yes
	immediate = {
		ruler = {
			kill_character = yes
		} 
	}
}

tsr_test.2 = {
	type = country_event
	hidden = yes
	immediate = {	
		random_primary_culture = {
			save_scope_as = primary_culture
		}
		if = {
			limit = {
				any_scope_state = {
					state_population >= 100000
					is_split_state = no
					is_under_colonization = no
					state_region = {
						NOT = { is_homeland = scope:primary_culture }
					}
					culture_percent_state = {
						target = scope:primary_culture
						value >= 0.4
					}
				}
			}
			every_scope_state = {
				limit = {
					state_population >= 100000
					is_split_state = no
					is_under_colonization = no
					state_region = {
						NOT = { is_homeland = scope:primary_culture }
					}
					culture_percent_state = {
						target = scope:primary_culture
						value >= 0.4
					}
				}
				save_scope_as = new_homeland_state
			}
			scope:new_homeland_state = {
				state_region = {
					add_homeland = scope:primary_culture
				}
			}
			post_notification = new_homeland
		}
	}
}

tsr_test.3 = {
	type = country_event
	hidden = yes
	immediate = {
		change_infamy = -20
	}
}

tsr_test.4 = {
	type = country_event
	hidden = yes
	immediate = {
		create_diplomatic_pact = {
			country = c:SAX
			type = protectorate
		}
	}
}

tsr_test.5 = {
	type = country_event
	hidden = yes
	immediate = {
		set_capital = STATE_OBERPFALZ
	}
}

tsr_test.6 = {
	type = country_event
	hidden = yes
	immediate = {
		if = {
			limit = {
				NOT = { has_variable = opium_wars_completion_tracker }
			}
		}
		set_variable = {
			name = opium_wars_completion_tracker
			value = 0
		}
	}
}