je_arab_nationalism_subject = {
	icon = "gfx/interface/icons/event_icons/event_revolt.dds"

	is_shown_when_inactive = {
		OR = {
			country_is_in_middle_east = yes
			capital = { region = sr:region_north_africa }
			capital = { region = sr:region_nile_basin }
		}
		any_primary_culture = {
			has_discrimination_trait = arabic_heritage
		}
		is_subject = yes
		OR = {
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_dependency
			is_subject_type = subject_type_vassal
		}
		any_overlord_or_above = {
			NOT = {
				any_primary_culture = {
					has_discrimination_trait = arabic_heritage
				}
			}
		}
	}
	
	possible = {
		has_technology_researched = nationalism
		custom_tooltip = {
			text = nahda_start_tt
			has_global_variable = nahda_start
		}
		any_overlord_or_above = {
			OR = {
				has_journal_entry = je_springtime_of_the_peoples
				any_neighbouring_state = {
					owner = {
						has_journal_entry = je_springtime_of_the_peoples
					}
				}
			}
		}
		#will add more criterias soon
	}
	
	immediate = {
		trigger_event = { id = arab_wars.1 }
	}

	complete = {
		OR = {
			is_subject = no
			OR = {
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_tributary
			}
		}
	}

	on_complete = {
		
	}

	on_monthly_pulse = {
		effects = {
			if = {
				limit = {
					any_overlord_or_above = {
						any_subject_or_below = {
							NOT = { has_variable = supporter_event_done }
						}
					}
					any_country = {
						country_rank = rank_value:great_power
						relations:root >= relations_threshold:neutral
						relations:root >= 0
						NOT = { has_war_with = ROOT }
						OR = {
							has_interest_marker_in_region = region_arabic
							has_interest_marker_in_region = region_nile_basin
							has_interest_marker_in_region = region_north_africa
						}
						OR = {
							AND = {
								is_player = yes
								NOT = { ROOT = this }
							}
							has_attitude = {
								who = root.top_overlord
								attitude = domineering
							}
							has_attitude = {
								who = root.top_overlord
								attitude = belligerent
							}
							has_attitude = {
								who = root.top_overlord
								attitude = antagonistic
							}
						}
						NOT = {
							has_journal_entry = je_arab_nationalism_overlord
						}
					}
					any_diplomatic_play = {
						initiator_is = ROOT
						has_play_goal = independence
						is_war = no
					}
				}
				trigger_event = { id = arab_wars.4 }
			}
		}
		events = {
			arab_wars.9 #Independence plot
		}
	}

	invalid = {
	}

	weight = 10000
	should_be_pinned_by_default = yes

	inheritable = yes

	timeout = 3650
}

je_arab_nationalism_overlord = {
	icon = "gfx/interface/icons/event_icons/event_revolt.dds"

	is_shown_when_inactive = {
		any_scope_state = {
			any_scope_pop = {
				culture = {
					has_discrimination_trait = arabic_heritage
				}
				pop_is_discriminated = yes
            }
			OR = {
				state_region = { 
					is_homeland = cu:levantine 
				}
				state_region = { 
					is_homeland = cu:mashriqi 
				}
				state_region = { 
					is_homeland = cu:iraqi 
				}
				state_region = { 
					is_homeland = cu:misri 
				}
				state_region = { 
					is_homeland = cu:maghrebi 
				}
				state_region = { 
					is_homeland = cu:berber 
				}
				state_region = { 
					is_homeland = cu:khaleeji 
				}
				state_region = { 
					is_homeland = cu:omani 
				}
				state_region = { 
					is_homeland = cu:yemenite 
				}
				state_region = { 
					is_homeland = cu:hadramhi 
				}
				state_region = { 
					is_homeland = cu:bedouin 
				}
			}
			OR = {
				state_is_in_middle_east = yes
				state_is_in_north_africa = yes
			}
		}
		NOT = {
			any_primary_culture = {
				has_discrimination_trait = arabic_heritage
			}
		}
	}
	
	possible = {
		custom_tooltip = {
			text = arab_rev_start_tt
			has_global_variable = arab_rev
		}
		custom_tooltip = {
			text = nahda_start_tt
			has_global_variable = nahda_start
		}
		OR = { #The versions for Persia, Ottomans, and Iberia will be added in the future
			trigger_if = {
				limit = {
					c:AKN = ROOT
				}
				custom_tooltip = {
					text = akturkification_start_tt
					has_global_variable = akturkification_start
				}
			}
#			trigger_if = {
#				limit = {
#					c:TUR = ROOT
#				}
#				custom_tooltip = {
#					text = turkification_start_tt
#					has_global_variable = turkification_start
#				}
#			}
#			trigger_if = {
#				limit = {
#					c:PER = ROOT
#				}
#				custom_tooltip = {
#					text = persianization_start_tt
#					has_global_variable = persianization_start
#				}
#			}
#			trigger_if = {
#				limit = {
#					c:IBE = ROOT
#				}
#				custom_tooltip = {
#					text = castilianization_start_tt
#					has_global_variable = castilianization_start
#				}
#			}
			OR = {
				has_journal_entry = je_springtime_of_the_peoples
				any_neighbouring_state = {
					owner = {
						has_journal_entry = je_springtime_of_the_peoples
					}
				}
			}
		}
	}
	
	immediate = {
		trigger_event = { id = arab_wars.2 }
	}
	
	fail = {
		OR = {
			cu:levantine = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:mashriqi = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:iraqi = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:misri = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:maghrebi = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:berber = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:khaleeji = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:omani = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:yemenite = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:hadramhi = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
			cu:bedouin = {
				culture_secession_progress = {
					target = ROOT
					value > 0.9
				}
			}
		}
	}

	on_fail = {
		if = {
			limit = { exists = c:AKN c:AKN = this }
			trigger_event = { id =  days =  }
		}
	}

	on_monthly_pulse = {
		
	}

	invalid = {
	}

	weight = 10000
	should_be_pinned_by_default = yes

	inheritable = yes

	timeout = 3650
}